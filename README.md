<img width="1278" alt="스크린샷 2021-07-29 오전 1 16 26" src="https://user-images.githubusercontent.com/76778082/127359862-fdb8a136-f695-44ba-a5b9-c6a52d72ace7.png">
<img width="1278" alt="스크린샷 2021-07-29 오전 1 16 38" src="https://user-images.githubusercontent.com/76778082/127359872-189e667e-1942-43ec-b924-72c639dfeb09.png">
# Solar-energy-prediction
to predict solar energy

환경은 colab 으로 진행하였다.

주제: 과거 기상정보와 기상예보를 통한 일별 발전량 예측

입찰방식: 전날 10시 이전에 예측한값, 전날 10~17시 사이에 예측한 값으로 다음날 태양발전량과 비교후 (실제발전량-예측발전량)/발전용량 의 평균으로 예측오차를 산정한다.

시작~완료기간:2021-07-20~2021-07-30

use_data 파일은 원본 weather1의 파일을 local 환경에서 이미 전처리 하였다

1.시간의 간격이 일치하지않아 1시간별로 맞추는 작업을 진행하였고 duplicates 함수를 통해 마지막의 값을 남겨놓았다(마지막에 예측한값이 가장 정확하니까)
2.결측치의 개수를 파악한다음 불연속으로 존재한다면 평균 or 다른 weather 이나 forecast 파일에서 알아내기 or bfill ffill 을 통해 채워주는 식으로 진행하였다
3.시간의 연속적인 값을 표현하기위해 주기가 24인 sin,cos함수와  , 월을 표현하기위해 주기가 12인 sin,cos 을 도입하였다 ( 학부과정떄 배운 미분방저정식의 푸리에급수에서 아이디어를받음)
4.모델링은 fbprophet,Neural prophet,xgboost,catboost 를 통해 제일 잘 예측하는 값을 찾아보았다.
5.Neural prophet은 예측력이 상당히 떨어져서 적용할수없었다.catboost 또한 xgboost 만큼의 성능을내지못함 (알아보니 classification 에 최적화되어있음,나중에 분류문제에 써야겠다)
6.xgboost,catboost 의 regressor 로 사용하였다.간단하게설명하자면 based on decision tree 로 regression 을 진행한다.
7.hyperparameter 가 상당히많아 전체 파라미터를 수정하려면 grid search 로 수시간이 걸려서 중요하다고 생각되는 test_size,depth,min_tree,gamma,est 를 grid search 로 진행하였다.
8.hyper parameter tuning 전과 후는 rmse 58-> 50, SMAPE -> 6.1->5.4 로 상당한 성능 향상이있었다.

한계점: 시계열관련해서 지식이없다보니 물어볼 사람도없었고, 혼자 방대한 양의 전처리 + 데이터판단 (통계관련지식과 검색을 통해 빠르게 수집)+ 모델선정과 모델 적용을위한 시간 + 오류수정 
이 네가지가 한꺼번에 겹쳐서 해결하는데 시간이 많이 소요되었다. 


느낀점:

시계열관련 대회를 두번째 도전하는것(첫번쨰는 데이콘 인공지능 비트트레이더)  이였지만 5일동안 밤샘해가며 얻은것이 상당히 많았다.

학부연구생 Superresolution 업무도 하면서 바쁘긴했지만 목표하나를 잡고나니까 미친듯이 집중하였고 여러정보들을 취합해서 빠르게 판단하는 능력도 향상이된것같다.


총평가: 
비록 현재 7.28일 누적평균오차 3.15% 으로 나름 괜찮게 예측을 한것같지만 순위안에 들지못해 안타깝다.

이미지 관련 AI 도 재밌지만 시계열 데이터의 예측도 상당히 재미있는 분야중 하나인것같다. 지식도늘고 적용할수있는 모델도 늘고 내가가진 무기도 늘어난것같아 뿌듯하다.

다음에 시간나면 다른분야도 도전해볼 예정!.


